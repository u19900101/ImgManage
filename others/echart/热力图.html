<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>3D热力图</title>
    <link rel="stylesheet" type="text/css" href="https://a.amap.com/jsapi_demos/static/bezier/bezier.css">
    <style>
        html,
        body,
        #container {
            width: 100%;
            height: 100%;
            margin: 0px;
            font-size: 13px;
        }
    </style>
</head>
<body>
<div id="container"></div>

<script type="text/javascript" src="https://a.amap.com/jsapi_demos/static/resource/heatmapData.js"></script>
<script type="text/javascript" src="./data/heatmapData_local.js"></script>
<script src="https://webapi.amap.com/maps?v=1.4.15&key=ce3b1a3a7e67fc75810ce1ba1f83c01a&plugin&plugin=AMap.MapType,AMap.CustomLayer,AMap.ControlBar,AMap.Heatmap"></script>
<script type="text/javascript">
    var map = new AMap.Map("container", {
        viewMode: '3D',
        pitch: 10,  //设置地图俯仰角
        resizeEnable: true,
        center: [109.1738888889,18.6925],
        zoom: 11.5
    });

    // map.addControl(new AMap.ControlBar({}));
    map.addControl(new AMap.MapType({
                defaultType: 0 //0代表默认，1代表卫星
            }));
    var heatmapOpts = {
        //3d 相关的参数
        '3d': {
            //取样精度，值越小，曲面效果越精细，但同时性能消耗越大
            gridSize: 2,
            heightScale: 1
        }
    };

    //初始化heatmap对象
    var heatmap = new AMap.Heatmap(map, heatmapOpts);
   
    console.log("heatmapData_local: ",heatmapData_local)
    console.log("heatmapData: ",heatmapData)
    heatmap.setDataSet({
        data: heatmapData_local,
        max: 3
    });
   
  
</script>
</body>
</html>